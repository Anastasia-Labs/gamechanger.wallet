
# Cardano Example Dapp

## **Shared Treasury - 3 of 4 signers - using addresses**

Creates a workspace named 'DAO' with a 'Shared Treasury' address where at least 3 of 4 signer wallets are required for spending and staking operations. A second address on the workspace is caller main address as 'Signer'. To manage the treasury set 'Shared Treasury' address as current. To sign as a member, set 'Signer' address instead. Please customize this code with real addresses. Please use 'saveConfig' function to save this setup on GCFS to avoid losing funds and data


## Try it online: 

-  Visit [HTML5 Dapp](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Shared%20Treasury%20-%203%20of%204%20signers%20-%20using%20addresses.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA7VW2W7bOhD9FUIv7gVcQ5HlJXkL2ocG93YBEqAPRRCw5GixJUoiqc2G_71DypLtLEZd9PrFFodz5syQ58hbR7c5ODeOYjLOtTN2dKwTs3AfUQmcPEigqpQteU-mJAuIT1QcCpAKF0oVi5BQziUoBQqTOXQ4cSYQ4gPmalCEkjqTa5VTBkTQFFFHH2-_jkgd6wiDo2elRj0kqSOQQKgmCUb0KQFS0yQBjei4RUJRxgYjyCRROQhumQlOlKZr8zvLQVLDS03ILVHAMgz2dTJBdARHLGNFmIGXJKWxGPZRhWRt9dGEPGQYFDQEm6v7OSnQZzpCBFZKCUJbANOKWaMkhfQnyPE-vasxZMVCaaB8ghOGJs-kvlU43o80wwUJupQ47a2TZtwcnMgEODsMlHb1cDz4sD_slDJpc7stn23tJxcj2xD0bZdxJ4Ls3cikXxXXy8Cd50wqsWzcaVm7VQKrer70A1a6Xk2DoAoU42rj8lVY8PlqXrkBc30xgyj0rr22qRR-VaBkUaRNEYh80Za1WLSFV6lWLEb_7JDPnsjVGSKs3QRMt2mSlDALm-tp2giJj5tNA6v1JlRyHdbFosxX4IcXEcnFhkl6QsR7m0jbhsV06VeRZq3yFjVwiBZyvuIulTXgOBo9D8N6lXA3XV02Eer5zSw8ITI9M5FNskllxWWil8G1W9GFX1AfBTFfqqidrdnMV0uR-_mcenAZkaiYhZ40RHZ4nzq93eN1y4-uUpJR_iETQRwi2zLnKPg7PlzOhLZoFc7Nj2H_915jGI01pF3QuMI3qjWYm-xwm2uN6LCIjnFqMIfQd8vMSEej1BXqES2DDeajOjEOCkUTed1S1O_Yh7N73I2Hdv6FFlkNxnHHTT-2gce3-7MV3neKx2wswPtVfKSMZaXQd4JD49y4417B_YKp_gwPScJLPLP6O3jH_XzBJiu4718GbzT24rietmtod0_DS2Tf-XbflLEh_Z8ZuHMzHTtZ8BCBglPr2Tp5-RPH-Ymq6JMhZi_8uxGjLILJ4GKTPmOS0zZFH92n2Ft67CAX4l2dxfMuxvPO4k0vxpu-hmdk2R3z_zLh_eX_axM-h_cnEz6H9ycTfgXPfA7q2Nvv5YrvXuiYZ_XwzdL6gjtemoE9ztMNx-p-Kf5nfzX6GsdC3gMZndrYQacW-62tJtZvRZN4xFH8AslqjzovCgAA)

## Source code:

- dapp connection code: [GCScript](Shared%20Treasury%20-%203%20of%204%20signers%20-%20using%20addresses.gcscript)
- frontend + dapp connection code : [HTML5 dapp](Shared%20Treasury%20-%203%20of%204%20signers%20-%20using%20addresses.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "type": "script",
  "title": "Shared Treasury - 3 of 4 signers - using addresses",
  "description": "Creates a workspace named 'DAO' with a 'Shared Treasury' address where at least 3 of 4 signer wallets are required for spending and staking operations. A second address on the workspace is caller main address as 'Signer'. To manage the treasury set 'Shared Treasury' address as current. To sign as a member, set 'Signer' address instead.",
  "exportAs": "Dao",
  "return": {
    "mode": "none"
  },
  "run": {
    "addresses": {
      "type": "macro",
      "run": {
        "Member_0": "{getAddressInfo('addr1q98f06pcrsn8x03uw0vlejw684fcu02waffvfscdsz0djgqd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yq2vsyn7')}",
        "Member_1": "{getAddressInfo('addr1q9cyzfctymllue5gx93mxnrymlzzxejkzgsrkgwq7upje4gd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yqpnzcra')}",
        "Member_2": "{getAddressInfo('addr1qyygq384vhtcys27wedeh7r6jd0arwefvfxt6ggwjld0mjqd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yqa24x5g')}",
        "Member_3": "{getAddressInfo('addr1q9zlzmrvdrlt8f90va74qa4req68shy5kc54s8np4p6a2eqd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yqhq5g2r')}"
      }
    },
    "walletSetup": {
      "type": "loadConfig",
      "updateId": "Dao",
      "layers": [
        {
          "type": "Workspace",
          "items": [
            {
              "namePattern": "dao",
              "titlePattern": "DAO",
              "descriptionPattern": "Wallet settings that creates a shared treasury of at least 3 of 4 signers for spending and staking operations"
            }
          ]
        },
        {
          "type": "Key",
          "workspaceIds": [
            "dao"
          ],
          "items": [
            {
              "namePattern": "spend-member",
              "kind": "spend",
              "accountIndex": 0,
              "addressIndex": 0
            },
            {
              "namePattern": "stake-member",
              "kind": "stake",
              "accountIndex": 0,
              "addressIndex": 0
            }
          ]
        },
        {
          "type": "NativeScript",
          "workspaceIds": [
            "dao"
          ],
          "namePattern": "dao_{key}_script",
          "items": {
            "spend": {
              "atLeast": 3,
              "ofThese": {
                "Member_0": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_0.paymentKeyHash')}"
                },
                "Member_1": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_1.paymentKeyHash')}"
                },
                "Member_2": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_2.paymentKeyHash')}"
                },
                "Member_3": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_3.paymentKeyHash')}"
                }
              }
            },
            "stake": {
              "atLeast": 3,
              "ofThese": {
                "Member_0": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_0.stakingKeyHash')}"
                },
                "Member_1": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_1.stakingKeyHash')}"
                },
                "Member_2": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_2.stakingKeyHash')}"
                },
                "Member_3": {
                  "pubKeyHashHex": "{get('cache.addresses.Member_3.stakingKeyHash')}"
                }
              }
            }
          }
        },
        {
          "type": "Address",
          "workspaceIds": [
            "dao"
          ],
          "items": [
            {
              "namePattern": "Signer",
              "spendPubKeyName": "spend-member",
              "stakePubKeyName": "stake-member"
            },
            {
              "namePattern": "Shared Treasury",
              "spendNativeScriptName": "dao_spend_script",
              "stakeNativeScriptName": "dao_stake_script"
            }
          ]
        }
      ]
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![This GCScript/URL is too large! make it shorter uploading parts to GCFS. Unable to generate QR code](Shared%20Treasury%20-%203%20of%204%20signers%20-%20using%20addresses.png)](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Shared%20Treasury%20-%203%20of%204%20signers%20-%20using%20addresses.png)

## Resources
- [Github Docs and examples](https://github.com/GameChangerFinance/gamechanger.wallet/)
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2/api.html)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Youtube Tutorials](https://www.youtube.com/@gamechanger.finance)
- [Discord Support](https://discord.gg/vpbfyRaDKG)
- [Twitter News](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
