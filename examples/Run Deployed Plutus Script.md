
# Cardano Example Dapp

## **Run Deployed Plutus Script**

Demo that locks and redeem some coin from a previously deployed smart contract. A GameChanger Wallet Dapp Demo. https://gamechanger.finance/


## Try it online: 

-  Visit [HTML5 Dapp](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Run%20Deployed%20Plutus%20Script.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA7VW227jRgz9FUEvuwVSR5YlWcqb4QBt0GA3aFL0oQgW1AwVCzu6VDNK7Qb-93JmdLPjNG679ZNMckieQ86RXly1q9G9ciVr8lq5F67KldCGn9vSucZaVDvkzp1oVSud-z6Io43Pq5JCr7GoHLUB5YiKfZUOlNxpkCMWjqwKdFiVl07WVIUDTt3gc161Uuwc3meXBTSKokrVAFMzZ-X8AAWuN1A-YeP8CkKgcq6hrh1daeZslKrl1eXlE0UxGzXL8hJKhpfUHG7rqlEraUH0GCwEpTNQTIOqbaj3F7eouIYrQCp3T47WWKk3LDmWLEep_x-z1IVpvBM3BwXkfAbRojZr4GT2I0__NG-g2uJH3JJxDp7nL4EFox3kxvpSniEQfynz_XCeBSEAhzScpzzJMn_OMY2jxOcQwTLEMAyTlIcUADHzAPxw4e4JiVTwFdd6DqXKQbzZpgvcW0AAGISpP89CL-MYLZMwWkQhy7Ik4GkwT5kXg8_8OPIDb8HpeRFouvqhTbLXhuhhVTrKyG-fLMJgGUTeXLPi-36QJBQoaJDD8S_PvgEBnDcopyNI21zwVWe-cEvaAbKuuz5Ghz5pqupB2m5Ggl-eUH38wIBtcDYd9WxYQjk98eG7vdsRetemP-HujExH9OsU-72GZADcHi6OsT1sRzzaoL4360VXcqtDq1bVrSIqfnsZaXm7fhdiWzf7Zfb6cNHePK0rz6bBpn9iVUrseqgrkbPdDTcbpPfJ-D7Z_q3l9xYIvNq9W0lfFFPhcf944VZGWMzQ7fX-TIYi_xNpoO6nz66hUeZP5RGL2vSw7bfiDpRCfceNHXnPJkcFuSBBwKbIpbSVMhASNdMa20Gzw7hmatvx8KjLt2mRq-MGjPFkC8ajxi5MpYNCPaCOaVP3l1KctSht2aWtoaF9e9jqqR3lPwBCbrsZdrfyclgtdf7ZnIZIxz164iNU3QnhNCldPc4GM6SuGN6cqBItfYwhi_wkS3kQeyn6KWTzgITHCyKeBZCwKE6AfCmLAw5xHC7mHIJ4SWLlLSZt6Fp_5KqkrbeibaVklB5bWn4LLejE6v2zOrBnSxNy9T9h1-CpqGwLbL4hzqlwwPmaMeiF_QzAZnpJ9BHdusLi5s29ISXYHypBJQRQKIg1icU9CmTd58ft6v52dT2qwqtL844uDJfn3yiDLXZKG163cYY6DL2c1gebs-NWf_IIsTv_86QA1lS99-_n2JUwX2br1-_4MzMdb9awFgd57W34r7kPXlMH-VevviHOLDF5hVJOTcvD9qwsp-SSMtjh_pMc43b1WfTvL6iusaW1CwAA)

## Source code:

- dapp connection code: [GCScript DSL](Run%20Deployed%20Plutus%20Script.gcscript)
- frontend (using @gamechanger-finance/gc): [HTML5 dapp](Run%20Deployed%20Plutus%20Script.html)
- frontend (without official library): [Native HTML5 dapp](Run%20Deployed%20Plutus%20Script_nolib.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "type": "script",
  "title": "Run Deployed Plutus Script",
  "description": "Demo that locks and redeem some coin from a previously deployed smart contract. A GameChanger Wallet Dapp Demo. https://gamechanger.finance/",
  "exportAs": "RunDeployedPlutustDemo",
  "return": {
    "mode": "last"
  },
  "run": {
    "dependencies": {
      "type": "script",
      "run": {
        "lock": {
          "type": "data",
          "value": {
            "coin": "2600000",
            "datumHex": "1a0027ac40",
            "datumHashHex": "bdfeadeebc2251f45aadab51bd9ff21deb8692da6a75e5559bd5daba8c0aa253"
          }
        },
        "stakeCredential": {
          "type": "data",
          "value": "ad03a4ae45b21f50fde67956365cff94db41bc08a2c2862403d8a234"
        },
        "contract": {
          "type": "plutusScript",
          "script": {
            "scriptHex": "4746010000222499",
            "lang": "plutus_v2"
          }
        },
        "address": {
          "type": "buildAddress",
          "name": "ContractAddress",
          "addr": {
            "spendScriptHashHex": "{get('cache.dependencies.contract.scriptHashHex')}",
            "stakePubKeyHashHex": "{get('cache.dependencies.stakeCredential')}"
          }
        }
      }
    },
    "buildLock": {
      "type": "buildTx",
      "name": "built-lock",
      "tx": {
        "outputs": [
          {
            "address": "{get('cache.dependencies.address')}",
            "datum": {
              "datumHashHex": "{get('cache.dependencies.lock.datumHashHex')}"
            },
            "assets": [
              {
                "policyId": "ada",
                "assetName": "ada",
                "quantity": "{get('cache.dependencies.lock.coin')}"
              }
            ]
          }
        ],
        "options": {
          "changeOptimizer": "NO"
        }
      }
    },
    "signLock": {
      "type": "signTxs",
      "namePattern": "signed-lock",
      "detailedPermissions": false,
      "txs": [
        "{get('cache.buildLock.txHex')}"
      ]
    },
    "submitLock": {
      "type": "submitTxs",
      "namePattern": "submitted-lock",
      "txs": "{get('cache.signLock')}"
    },
    "buildUnlock": {
      "type": "buildTx",
      "name": "built-unlock",
      "parentTxHash": "{get('cache.buildLock.txHash')}",
      "tx": {
        "inputs": [
          {
            "txHash": "{get('cache.buildLock.txHash')}",
            "index": 0,
            "idPattern": "locked-input"
          }
        ],
        "referenceInputs": [
          {
            "txHash": "672e8af629fbd480be2baf14ff9046df4a9c689ad48bc84da88531da48721f03",
            "index": 0
          }
        ],
        "witnesses": {
          "plutus": {
            "scripts": [
              {
                "scriptHashHex": "{get('cache.dependencies.contract.scriptHashHex')}",
                "lang": "{get('cache.dependencies.contract.lang')}",
                "input": {
                  "txHash": "672e8af629fbd480be2baf14ff9046df4a9c689ad48bc84da88531da48721f03",
                  "index": 0
                }
              }
            ],
            "consumers": [
              {
                "scriptHashHex": "{get('cache.dependencies.contract.scriptHashHex')}",
                "datum": {
                  "dataHex": "{get('cache.dependencies.lock.datumHex')}"
                },
                "redeemer": {
                  "type": "spend",
                  "itemIdPattern": "locked-input"
                }
              }
            ]
          }
        },
        "options": {
          "collateralCoinSelection": "LASLAD"
        }
      }
    },
    "signUnlock": {
      "type": "signTxs",
      "namePattern": "signed-unlock",
      "detailedPermissions": false,
      "txs": [
        "{get('cache.buildUnlock.txHex')}"
      ]
    },
    "submitUnlock": {
      "type": "submitTxs",
      "namePattern": "submitted-unlock",
      "txs": "{get('cache.signUnlock')}"
    },
    "finally": {
      "type": "script",
      "run": {
        "lock": {
          "type": "macro",
          "run": "{get('cache.dependencies.lock')}"
        },
        "smartContract": {
          "type": "macro",
          "run": "{get('cache.dependencies.contract.scriptHex')}"
        },
        "smartContractHash": {
          "type": "macro",
          "run": "{get('cache.dependencies.contract.scriptHashHex')}"
        },
        "smartContractAddress": {
          "type": "macro",
          "run": "{get('cache.dependencies.address')}"
        },
        "lockTx": {
          "type": "macro",
          "run": "{get('cache.buildLock.txHash')}"
        },
        "unlockTx": {
          "type": "macro",
          "run": "{get('cache.buildUnlock.txHash')}"
        }
      }
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![This GCScript/URL is too large! make it shorter uploading parts to GCFS. Unable to generate QR code](Run%20Deployed%20Plutus%20Script.png)](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Run%20Deployed%20Plutus%20Script.png)

## Resources
- [How to connect?](https://www.npmjs.com/package/@gamechanger-finance/gc)
- [Docs and examples on Github](https://github.com/GameChangerFinance/gamechanger.wallet/)
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Tutorials on Youtube](https://www.youtube.com/@gamechanger.finance)
- [Support on Discord](https://discord.gg/vpbfyRaDKG)
- [News on Twitter](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
