
# Cardano Example Dapp

## **Multi Stake Withdrawal**

    Script that requests 3 child wallet's reward addresses from an specific workspace, to later withdraw some staking rewards from each of them on a single transaction. You need to have staking rewards on each child wallet and run 'Multi Stake Delegation' demo first or load it's wallet configuration on this device


## Try it online: 

-  Visit [HTML5 Dapp](https://raw.githubusercontent.com/GameChangerFinance/gamechanger.wallet/main/examples/Multi%20Stake%20Withdrawal.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA61UTW_bMAz9K4Qv2YA0ydBbbml72IBtKNpuxY6sRMdCZcmV6Hwg8H8f5diui6bdocshSMinx8dHSoeM9xVlyyyqYCrOphkbtinwo7Zs4JbxkeDecKEDbtEKQNMRa7wT2G37G7hAhkBPNUWOcA6qMFaDHLDEkyiZLQYNqHWgGClCHnwJ6CBWpExuFGx9eIwVKpoCe7DIFGDblYXoS4IoUoxbd1wdBaEqwOdSn0rwDhCiYCwBB3QRVVI5gz--BkekE3WBm9dccrJlGssWeRpC7WAytuKKLK0x0U5AU-khNyEy-ADWowaTuu3OK-9ys65Di04luDBRDm2MIvGRdpUPvIq9173J9kpoJR-I6-B-3Xy_RhY3ktkFc7Wcz61XaAsfeXm-WCzmScYcKzPXWFXpYC3YQxaJ73tT0_9-0MSXdQjkRtlpNtj_TQsmMcasSbOuyGlyylAcc_TL0pU62vgbbT2upJFRMJtjOPuyaD-JdtiDEXpNvBrC0-yR9s99HzCwyWWaP7GkJmsa4eDde4oeahlk7-gI18bvdgJ0QiWBHtPGeJeg22Hb2wqr9NUpTlpE6KeJkm2h2die2dDU7Ka1o-vmbNVnJp8bqfFUo5M7tn-PauRnOiTdXnxQxMX_EHH5QRGXHxfRjj6atTsx2xS-28Vuts_bk-Kkzw6yUk37fjEaS_qaQmlilLspzeQybBqWajuQv1Am2dmLxZLIV9odhYms-qE0fEpYmzgprc3wSF2r4FXVccedD9MsN04emv2pW_DW2zJ6HU57WKIKvkf9u3mMRT-W5i-lwdNRSwYAAA)

## Source code:

- dapp connection code: [GCScript](Multi%20Stake%20Withdrawal.gcscript)
- frontend + dapp connection code : [HTML5 dapp](Multi%20Stake%20Withdrawal.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "type": "script",
  "title": "Multi Stake Withdrawal",
  "description": "Script that requests 3 child wallet's reward addresses from an specific workspace, to later withdraw some staking rewards from each of them on a single transaction. You need to have staking rewards on each child wallet and run 'Multi Stake Delegation' demo first or load it's wallet configuration on this device",
  "exportAs": "MultiWithdrawlDemo",
  "returnURLPattern": "http://localhost:3000/demo/api/dapp",
  "run": {
    "setWorkspace": {
      "type": "setCurrentWorkspace",
      "workspaceId": "demos"
    },
    "dependencies": {
      "type": "script",
      "run": {
        "rewardValue": {
          "type": "data",
          "value": "1000000"
        },
        "addresses": {
          "type": "getAddresses",
          "keyPattern": "{artifactName}"
        }
      }
    },
    "txs": {
      "type": "script",
      "run": {
        "buildWithdraw": {
          "type": "buildTx",
          "name": "WithdrawTx",
          "tx": {
            "withdrawals": {
              "A": {
                "address": "{get('cache.dependencies.addresses.RewardAddress-A.address')}",
                "quantity": "{get('cache.dependencies.rewardValue')}"
              },
              "B": {
                "address": "{get('cache.dependencies.addresses.RewardAddress-B.address')}",
                "quantity": "{get('cache.dependencies.rewardValue')}"
              },
              "C": {
                "address": "{get('cache.dependencies.addresses.RewardAddress-C.address')}",
                "quantity": "{get('cache.dependencies.rewardValue')}"
              }
            }
          }
        },
        "signWithdraw": {
          "type": "signTxs",
          "namePattern": "signed-{key}",
          "detailedPermissions": false,
          "txs": {
            "withdraw": "{get('cache.txs.buildWithdraw.txHex')}"
          }
        },
        "submitWithdraw": {
          "type": "submitTxs",
          "namePattern": "submitted-{key}",
          "txs": "{get('cache.txs.signWithdraw')}"
        }
      }
    },
    "finally": {
      "type": "script",
      "exportAs": "MultiWithdraw",
      "run": {
        "signWithdraw": {
          "type": "macro",
          "run": "{get('cache.txs.buildWithdraw.txHash')}"
        }
      }
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![QR URL Transport](Multi%20Stake%20Withdrawal.png)](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA61UTW_bMAz9K4Qv2YA0ydBbbml72IBtKNpuxY6sRMdCZcmV6Hwg8H8f5diui6bdocshSMinx8dHSoeM9xVlyyyqYCrOphkbtinwo7Zs4JbxkeDecKEDbtEKQNMRa7wT2G37G7hAhkBPNUWOcA6qMFaDHLDEkyiZLQYNqHWgGClCHnwJ6CBWpExuFGx9eIwVKpoCe7DIFGDblYXoS4IoUoxbd1wdBaEqwOdSn0rwDhCiYCwBB3QRVVI5gz--BkekE3WBm9dccrJlGssWeRpC7WAytuKKLK0x0U5AU-khNyEy-ADWowaTuu3OK-9ys65Di04luDBRDm2MIvGRdpUPvIq9173J9kpoJR-I6-B-3Xy_RhY3ktkFc7Wcz61XaAsfeXm-WCzmScYcKzPXWFXpYC3YQxaJ73tT0_9-0MSXdQjkRtlpNtj_TQsmMcasSbOuyGlyylAcc_TL0pU62vgbbT2upJFRMJtjOPuyaD-JdtiDEXpNvBrC0-yR9s99HzCwyWWaP7GkJmsa4eDde4oeahlk7-gI18bvdgJ0QiWBHtPGeJeg22Hb2wqr9NUpTlpE6KeJkm2h2die2dDU7Ka1o-vmbNVnJp8bqfFUo5M7tn-PauRnOiTdXnxQxMX_EHH5QRGXHxfRjj6atTsx2xS-28Vuts_bk-Kkzw6yUk37fjEaS_qaQmlilLspzeQybBqWajuQv1Am2dmLxZLIV9odhYms-qE0fEpYmzgprc3wSF2r4FXVccedD9MsN04emv2pW_DW2zJ6HU57WKIKvkf9u3mMRT-W5i-lwdNRSwYAAA)

## Resources
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2/api.html)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Youtube Tutorials](https://www.youtube.com/@gamechanger.finance)
- [Discord Support](https://discord.gg/vpbfyRaDKG)
- [Twitter News](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
