
# Cardano Example Dapp

## **Transaction Pipeline**

Transaction pipeline without UTXO consumption conflicts using deterministic coin selection and UTXO locking


## Try it online: 

-  Visit [HTML5 Dapp](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Transaction%20Pipeline.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA6VV227bOBD9FUIv3QVcW5YcK8nb1otuC3TboHEXBYqioMWRTIciZZK6Gvn3DikndlvDizR6kCjycDjnzIW7wHIrILgOlppKQ1PLlSQ3vATBJQSjgIFJNS_dNIJiYg8wQxouBFkBWVVcMJJxbeyI2DVIYngugREqGRHUgiamWhXcWjdnHYQYWgCxvIAxWa5BA-GGSEUkIERlBI9hqiCp4mgMBAyOrSCllQHyz4JoMKBrMOTT8vMHQzKlCdB07fai-YLQyqqCWp5SITpiFaG14gwNykzw1Bq0ZRtAVx0aidqudDIMbPFfg620_PTx3Q1Ft7Vjv7a2vJ5MhEKba2XsdRyG4YRBoSa05BNGy9JtrBC7CywUpaPux4NtRi1FQE1F5adVZcvKGo9Qr6oOtBtSxpAbzvrRdHt1mYXzMtVGXrZhXDVhLWDTzC9nWVqFUUOzrM5Mykwfsk2-ZfPNvA6zNJzJC1jn0VXUtbXBD0qlt9ui3WayTLqqkUm3jWrTyQRdosaAc-TLLigVytO9Zf58-rD2HqP1OLOtqMS06XBiGvonuP96jxKqtxKlKoBxqruTXNKuz1LbFQIluMjbq7hopcbfvm9hc9fnRt_lzTapyg3M8idxKWWfanrExZ1Op-77m5RGbi16hgF8EFq1XDg9_nbRR2NJ7N41AqNxeEg827oTk8h7vKKYCtMRfnsMSjy6wKFSwSgZISsE9yi4W21xnOHCcNQ325qjdDuk8j4j23B6tOyLdtk6D_Yt4A0VWDz7vGXEr8mBpAPbl97Czz3hluMGLEkELtZU5ljsR73EmW9_Snb0ItjlYP94kWLFwvjhyPEeM95Xw4s_73F7dCqRui7fxpezem3TzkRJAwzWiZ5vWEh1A1gRrZ3nebMRLCw2TysKGs3ai_xZRRHFriAwIsqL5Em7Tnb70MgQ9Prfj7gr9Yp9QFjBe1f_wau_3gU-mih2dDZcNxV2zYVrkI92T8csenbMzoZrCNNT8vy8Mu8Xp5W5_W_x8vPtozjxWXFeV77tn0_m-PeEOamGU8G75q6-4yrE3yXW5XD64TIZbkjnxe4Ountv2iXbD8ZdRY9d1eHrDbSD0qcA0f8B4gPgqyNtKRfAbrBbc2OGSGRUGHAE_FV9TMFPDCQKxdxUSTXeqyB-pfVwz__C7Ae3HPu9Yt8BcfDlmIMIAAA)

## Source code:

- dapp connection code: [GCScript](Transaction%20Pipeline.gcscript)
- frontend + dapp connection code : [HTML5 dapp](Transaction%20Pipeline.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "title": "Transaction Pipeline",
  "description": "3 transactions will be build first, then signed and later submitted at the same time. There is no need of random coin selection because GC reserves UTXOs for each of them automatically to avoid conflicts between them",
  "type": "script",
  "returnURLPattern": "http://localhost:3000/demo/api/dapp",
  "run": {
    "template": {
      "type": "data",
      "value": {
        "outputs": {
          "toBuyer": {
            "address": "addr1q98f06pcrsn8x03uw0vlejw684fcu02waffvfscdsz0djgqd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yq2vsyn7",
            "assets": [
              {
                "policyId": "ada",
                "assetName": "ada",
                "quantity": "1000000"
              }
            ]
          },
          "toIntermediary": {
            "address": "addr1q9cyzfctymllue5gx93mxnrymlzzxejkzgsrkgwq7upje4gd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yqpnzcra",
            "assets": {
              "ada1": {
                "policyId": "ada",
                "assetName": "ada",
                "quantity": "1000000"
              },
              "ada2": {
                "policyId": "ada",
                "assetName": "ada",
                "quantity": "1000000"
              }
            }
          }
        },
        "auxiliaryData": {
          "73": {
            "v": "2.0",
            "type": "tx"
          },
          "721": {
            "bar": 1,
            "baz": [
              3,
              5,
              "boo",
              7,
              {
                "a": "z"
              }
            ],
            "bax": "foo"
          }
        }
      }
    },
    "_txs": {
      "type": "script",
      "run": {
        "tx01": {
          "type": "buildTx",
          "title": "Half templated Tx",
          "name": "built-tx01",
          "description": "Simple GameChanger Transaction",
          "tx": {
            "outputs": {
              "1": "{get('cache.template.outputs.toBuyer')}",
              "2": {
                "address": "addr1qyygq384vhtcys27wedeh7r6jd0arwefvfxt6ggwjld0mjqd6j6v0fc04n5ehg292yxvs292vesrqqmxqfnp7yuwn7yqa24x5g",
                "assets": [
                  {
                    "policyId": "ada",
                    "assetName": "ada",
                    "quantity": "123"
                  }
                ]
              }
            },
            "options": {
              "coinSelection": "FMR",
              "changeOptimizer": "BAL"
            }
          }
        },
        "tx02": {
          "type": "buildTx",
          "title": "Pure Coin Selection Tx",
          "name": "built-tx02",
          "description": "Simple GameChanger Transaction",
          "tx": {
            "outputs": "{get('cache.template.outputs')}",
            "auxiliaryData": {
              "73": {
                "v": "2.0",
                "type": "tx"
              }
            },
            "options": {
              "coinSelection": "NCR",
              "changeOptimizer": "SVC-XS"
            }
          }
        },
        "tx03": {
          "type": "buildTx",
          "title": "Fully templated Tx",
          "name": "built-tx03",
          "description": "Simple GameChanger Transaction",
          "tx": "{get('cache.template')}"
        }
      }
    },
    "sign": {
      "type": "signTxs",
      "namePattern": "signed-tx0{key}",
      "txs": [
        "{get('cache._txs.tx01.txHex')}",
        "{get('cache._txs.tx02.txHex')}",
        "{get('cache._txs.tx03.txHex')}"
      ],
      "detailedPermissions": false
    },
    "submit": {
      "type": "submitTxs",
      "mode": "parallel",
      "namePattern": "submitted-tx0{key}",
      "txs": "{get('cache.sign')}"
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![This GCScript/URL is too large! make it shorter uploading parts to GCFS. Unable to generate QR code](Transaction%20Pipeline.png)](https://gamechangerfinance.github.io/gamechanger.wallet/examples/Transaction%20Pipeline.png)

## Resources
- [Github Docs and examples](https://github.com/GameChangerFinance/gamechanger.wallet/)
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2/api.html)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Youtube Tutorials](https://www.youtube.com/@gamechanger.finance)
- [Discord Support](https://discord.gg/vpbfyRaDKG)
- [Twitter News](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
