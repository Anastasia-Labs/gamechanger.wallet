
# Cardano Example Dapp

## **CIP-8 Data Signing and Encrypting Demo**

    Demo that signs data with main and current addresses and their associated reward ones, verifies the signatures and encrypt and decrypt the data using the signatures. Run 'Wallet Setup Demo' or create some Workspaces first and switch current addresses to test it out


## Try it online: 

-  Visit [HTML5 Dapp](https://raw.githubusercontent.com/GameChangerFinance/gamechanger.wallet/main/examples/CIP-8%20Data%20Signing%20and%20Encrypting%20Demo.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA9VWTU_jMBD9K95cClJpkfay6g3BSiAtEiqLOFvxtLFI7aw9oSBUaX_HXvYv7k_YcZy0-YQgAqK32Jl5783YfvZTgBJjCGbB6cXV0Td2xpGza7lUUi0ZV4J9V6F5TNANz2Clg3EgwIZG0pRWlOYmGUYcmaUsy4QDWEuM2IpLlUGEqTGgkHEhDFgLNpvFCKRh3FodSo4gmIE1N4JpBXbM7sHIhaRQCsuQOaYmzwQvKfsW4L9dWEadWie1mjVh81Sx0S2PY0B2DZgmWTEjpg0LDRA9s3oF7FabO5vwkIgW0lhPYamaMGqpAqlwoCCJTKdIncHHxHXSt4fGhpiMupn_uOKIYFy7IsRkNp3GOuRxpC3Ovh4fH08FiZnyRE4FTxKXmFLsE3U6ASWoXGqEGzfwfZhr9IlXVYpaAl6WfmzGQV5Ba-hp9R9Fl1Av1EKXwlc8NLqgD54ouxR3QMODUcjDCCZl_ZMS3ujwcNMUNAhLFbIgctzzbHs1i2_yvCTfCZiYMtyoUs8bmZpdaSVzu70Eng3HwT2PUzf89_fPb3YOcazdpo7pWC2YP-HZKbH-hH8pgM7hoVuoRfNTU0Rn0x2Cb_WmKWy7W-Eh0QZPqCPBhUpSPPOKi71ezerZK8-86VXGcxiUOCr0Zw5y2Xqm2mq5qYdvS-ID7LW8OLdeZR00dO27JZ_d0W75Ksj1ciZ8h1zqWr_-0AZzxvxY0uInrguz_WhJPn5L_xKT61xeSX6NgKjumnw6s-9fqTRwRXfUWhvhYu6kEm4dteBx4yo8YUkeyqRlebZw10RxY2FEP1akgy-B0tfA74IZmhQc1IKnMfbRP9nebHklOeKr1jG_OOvV59ODVr-7o9-l-u06Xna1oYFTXvrmue_y72dPfzVpGA-Yt9j-EE5Qwf1MfjCYsJ6uUOXbV29oVrFvDvEhPXiFT1TRut3itOtF3WkVtYy3-0T9wTuISVRVfhaHGE5VD3uoke2jN7SUsG_G8LanQ58G9HSFGtSLlvDqN0Rr3mD28B4viTbFn8wqPvI90Uq5x7ax_6-KQcxjuIdFK2CLkWw2_wEyHP3GlRUAAA)

## Source code:

- dapp connection code: [GCScript](https://github.com/GameChangerFinance/gamechanger.wallet/blob/main/examples/CIP-8%20Data%20Signing%20and%20Encrypting%20Demo.gcscript)
- frontend + dapp connection code : [HTML5 dapp](https://github.com/GameChangerFinance/gamechanger.wallet/blob/main/examples/CIP-8%20Data%20Signing%20and%20Encrypting%20Demo.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "title": "CIP-8 Data Signing and Encrypting Demo",
  "description": "Demo that signs data with main and current addresses and their associated reward ones, verifies the signatures and encrypt and decrypt the data using the signatures. Run 'Wallet Setup Demo' or create some Workspaces first and switch current addresses to test it out",
  "type": "script",
  "returnURLPattern": "http://localhost:3000/demo/api/dapp",
  "run": {
    "dependencies": {
      "type": "script",
      "run": {
        "mainAddress": {
          "type": "getMainAddress"
        },
        "currentAddress": {
          "type": "getCurrentAddress"
        },
        "mainAddressInfo": {
          "type": "macro",
          "run": "{getAddressInfo(get('cache.dependencies.mainAddress'))}"
        },
        "currentAddressInfo": {
          "type": "macro",
          "run": "{getAddressInfo(get('cache.dependencies.currentAddress'))}"
        },
        "mainRewardAddress": {
          "type": "macro",
          "run": "{get('cache.dependencies.mainAddressInfo.rewardAddress')}"
        },
        "currentRewardAddress": {
          "type": "macro",
          "run": "{get('cache.dependencies.currentAddressInfo.rewardAddress')}"
        },
        "data": {
          "type": "data",
          "value": "ðŸš€ Hello World of CIP-8 data signing!"
        },
        "dataHex": {
          "type": "macro",
          "run": "{strToHex(get('cache.dependencies.data'))}"
        }
      }
    },
    "data": {
      "type": "script",
      "exportAs": "InputData",
      "run": {
        "data": {
          "type": "macro",
          "run": "{get('cache.dependencies.data')}"
        },
        "dataHex": {
          "type": "macro",
          "run": "{get('cache.dependencies.dataHex')}"
        }
      }
    },
    "usingMainAddress": {
      "type": "script",
      "exportAs": "UsingMainAddress",
      "run": {
        "address": {
          "type": "macro",
          "run": "{get('cache.dependencies.mainAddress')}"
        },
        "sign": {
          "type": "signDataWithAddress",
          "address": "{get('cache.usingMainAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}"
        },
        "verify": {
          "type": "verifySignatureWithAddress",
          "address": "{get('cache.usingMainAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}",
          "dataSignature": "{get('cache.usingMainAddress.sign')}"
        },
        "encryptedHex": {
          "type": "encrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this message",
            "weak": true,
            "default": "{get('cache.usingMainAddress.sign.signature')}"
          },
          "messageHex": "{get('cache.dependencies.dataHex')}"
        },
        "decryptedHex": {
          "type": "decrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to decrypt this message",
            "weak": true,
            "default": "{get('cache.usingMainAddress.sign.signature')}"
          },
          "encryptedMessageHex": "{get('cache.usingMainAddress.encryptedHex')}"
        }
      }
    },
    "usingMainRewardAddress": {
      "type": "script",
      "exportAs": "UsingMainRewardAddress",
      "run": {
        "address": {
          "type": "macro",
          "run": "{get('cache.dependencies.mainRewardAddress')}"
        },
        "sign": {
          "type": "signDataWithAddress",
          "address": "{get('cache.usingMainRewardAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}"
        },
        "verify": {
          "type": "verifySignatureWithAddress",
          "address": "{get('cache.usingMainRewardAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}",
          "dataSignature": "{get('cache.usingMainRewardAddress.sign')}"
        },
        "encryptedHex": {
          "type": "encrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this message",
            "weak": true,
            "default": "{get('cache.usingMainRewardAddress.sign.signature')}"
          },
          "messageHex": "{get('cache.dependencies.dataHex')}"
        },
        "decryptedHex": {
          "type": "decrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this message",
            "weak": true,
            "default": "{get('cache.usingMainRewardAddress.sign.signature')}"
          },
          "encryptedMessageHex": "{get('cache.usingMainRewardAddress.encryptedHex')}"
        }
      }
    },
    "usingCurrentAddress": {
      "type": "script",
      "exportAs": "UsingCurrentAddress",
      "run": {
        "address": {
          "type": "macro",
          "run": "{get('cache.dependencies.currentAddress')}"
        },
        "sign": {
          "type": "signDataWithAddress",
          "address": "{get('cache.usingCurrentAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}"
        },
        "verify": {
          "type": "verifySignatureWithAddress",
          "address": "{get('cache.usingCurrentAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}",
          "dataSignature": "{get('cache.usingCurrentAddress.sign')}"
        },
        "encryptedHex": {
          "type": "encrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this message",
            "weak": true,
            "default": "{get('cache.usingCurrentAddress.sign.signature')}"
          },
          "messageHex": "{get('cache.dependencies.dataHex')}"
        },
        "decryptedHex": {
          "type": "decrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to decrypt this message",
            "weak": true,
            "default": "{get('cache.usingCurrentAddress.sign.signature')}"
          },
          "encryptedMessageHex": "{get('cache.usingCurrentAddress.encryptedHex')}"
        }
      }
    },
    "usingCurrentRewardAddress": {
      "type": "script",
      "exportAs": "UsingCurrentRewardAddress",
      "run": {
        "address": {
          "type": "macro",
          "run": "{get('cache.dependencies.currentRewardAddress')}"
        },
        "sign": {
          "type": "signDataWithAddress",
          "address": "{get('cache.usingCurrentRewardAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}"
        },
        "verify": {
          "type": "verifySignatureWithAddress",
          "address": "{get('cache.usingCurrentRewardAddress.address')}",
          "dataHex": "{get('cache.dependencies.dataHex')}",
          "dataSignature": "{get('cache.usingCurrentRewardAddress.sign')}"
        },
        "encryptedHex": {
          "type": "encrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this message",
            "weak": true,
            "default": "{get('cache.usingCurrentRewardAddress.sign.signature')}"
          },
          "messageHex": "{get('cache.dependencies.dataHex')}"
        },
        "decryptedHex": {
          "type": "decrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to decrypt this message",
            "weak": true,
            "default": "{get('cache.usingCurrentRewardAddress.sign.signature')}"
          },
          "encryptedMessageHex": "{get('cache.usingCurrentRewardAddress.encryptedHex')}"
        }
      }
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![QR URL Transport](https://raw.githubusercontent.com/GameChangerFinance/gamechanger.wallet/main/examples/CIP-8%20Data%20Signing%20and%20Encrypting%20Demo.png)](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA9VWTU_jMBD9K95cClJpkfay6g3BSiAtEiqLOFvxtLFI7aw9oSBUaX_HXvYv7k_YcZy0-YQgAqK32Jl5783YfvZTgBJjCGbB6cXV0Td2xpGza7lUUi0ZV4J9V6F5TNANz2Clg3EgwIZG0pRWlOYmGUYcmaUsy4QDWEuM2IpLlUGEqTGgkHEhDFgLNpvFCKRh3FodSo4gmIE1N4JpBXbM7sHIhaRQCsuQOaYmzwQvKfsW4L9dWEadWie1mjVh81Sx0S2PY0B2DZgmWTEjpg0LDRA9s3oF7FabO5vwkIgW0lhPYamaMGqpAqlwoCCJTKdIncHHxHXSt4fGhpiMupn_uOKIYFy7IsRkNp3GOuRxpC3Ovh4fH08FiZnyRE4FTxKXmFLsE3U6ASWoXGqEGzfwfZhr9IlXVYpaAl6WfmzGQV5Ba-hp9R9Fl1Av1EKXwlc8NLqgD54ouxR3QMODUcjDCCZl_ZMS3ujwcNMUNAhLFbIgctzzbHs1i2_yvCTfCZiYMtyoUs8bmZpdaSVzu70Eng3HwT2PUzf89_fPb3YOcazdpo7pWC2YP-HZKbH-hH8pgM7hoVuoRfNTU0Rn0x2Cb_WmKWy7W-Eh0QZPqCPBhUpSPPOKi71ezerZK8-86VXGcxiUOCr0Zw5y2Xqm2mq5qYdvS-ID7LW8OLdeZR00dO27JZ_d0W75Ksj1ciZ8h1zqWr_-0AZzxvxY0uInrguz_WhJPn5L_xKT61xeSX6NgKjumnw6s-9fqTRwRXfUWhvhYu6kEm4dteBx4yo8YUkeyqRlebZw10RxY2FEP1akgy-B0tfA74IZmhQc1IKnMfbRP9nebHklOeKr1jG_OOvV59ODVr-7o9-l-u06Xna1oYFTXvrmue_y72dPfzVpGA-Yt9j-EE5Qwf1MfjCYsJ6uUOXbV29oVrFvDvEhPXiFT1TRut3itOtF3WkVtYy3-0T9wTuISVRVfhaHGE5VD3uoke2jN7SUsG_G8LanQ58G9HSFGtSLlvDqN0Rr3mD28B4viTbFn8wqPvI90Uq5x7ax_6-KQcxjuIdFK2CLkWw2_wEyHP3GlRUAAA)

## Resources
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2/api.html)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Youtube Tutorials](https://www.youtube.com/@gamechanger.finance)
- [Discord Support](https://discord.gg/vpbfyRaDKG)
- [Twitter News](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
