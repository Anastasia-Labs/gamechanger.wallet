
# Cardano Example Dapp

## **Internal Multi Signing Demo**

    Demo that tries to sign 3 transactions with internal spending and staking private keys with any desired multisig provider. Partially sign them over and over again combining providers to try it out.


## Try it online: 

-  Visit [HTML5 Dapp](https://raw.githubusercontent.com/GameChangerFinance/gamechanger.wallet/main/examples/Internal%20Multi%20Signing%20Demo.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA7VXW3PqNhD-Kxq_JJmhYAPh9pZpO3MyJ2kzJ-mch9NMR1gyVmLLRloDhuG_d-VLEMGnCQnlBUta7e737UXSxgEBEXcmzm0WgSD3YiaFnJHfeJw4LYdx7SuRgkgkiphJAiEFAkpwTSAhGuVJD8dUauobOU2WAkIiJHAlaUR0yiUzKqlkRAN9Nt-pEgsKnDzzvJKnMidoTSjOSGxcQc0oliwE46pN7qgCQaMoLy1CyGOSLLgqtJYfMyok8ZN4KmRpotxbuAkqJwJIkkEbUUGeGsQlNBwrDpmSf327uaNgvMa1ECCddDpR4tMoTDRMeq7rdhgS0KGp6DCapriRr9JEwZWu6UP2jLoMNWyQO4OcSx-pMuNmq2YlTlixksQc5w0nzuSHEyOee6PiK8-_UB3iUjGFFPLdlJ8pxSW8Eqxn92XrmNziB1J0l0TCz53H7YvLRv8VY4pr2-MZh1trYfuivlH01_21bcvWei2DxBKPqa-SmjFng7stuXMcnp_51A952-aybek7u7jYHjp0Eiv7KmtDxvY3vqSKHYI_tPOW-8aBtrLVne3h-aSlQ1YajR0k2qchpTSP0XClzzZjJ-SnzVTdZN9MU0GcgrlGTE11dgpjjciay3dnTlIQC35f95eq0eA69k1sKPgv8-I_zaaV5i989Q7PbC5LXz6gw6Ko1lF6WO4fdV33cuT5dBSMh57b9wfTke9fMm88DLjXG7CR1-PjLhv5vO8NpwHtsqDfn_Z7vZ4XXAa-s300KinccKoRtddykuAh5JofB_l1MRyN93Wa_19gH7f4aznTTESs8XgpW7o5XK-i6GtxqLxIFbseVigmaWwmbDE8IFdGFk_LNINyW_L7qky-75hMvMyqui0VX_8A1-DNVeQOs7HWDNgS1qECd62UGo5z_rQKg0Ws4ycYP63mOV27z5AOcpZF8xAGarzuR8x9inWP9vzhbNm_zHrdReh3A2BpNxio-WLtdp-W6B3Vmhu3TEabzz9KCNd_LuVDKHSFIS3K45r9V6waK6pdRaoMtQlfy5lnFCUAy8fpGvJNO8M9pRMntfQ-cJY_nltkQ8uEUGI8ysuG3QuKiUYHql7xUb9Lnw0ZSXFFpJG5PuKVq75L7Dfh44qu6cA4rup-chYc3e5-0uaPb3mGKVNo99WV-D1FuSdbV6bi88zclE9K92nI2oF8OcLexmiJvgXxJPnw6TgakOYhYjdeHD6sdIVs95K4riuoeiD8ssEL_rZ4POCrCYGByrhBbTrp5m9JGn7myqoUzc-blyuRGkPBcdvq6G1YFbXaOnK7nXsf1rGL7RsqLg6nt8UTFKiIOLvjKhZamxemMwlopLmJQTaNBdhRKCbKOFTPqggfmuogLAfhqAJggTARRZ9vhIYq7P8CHUuAJi4PAAA)

## Source code:

- dapp connection code: [GCScript](examples/Internal%20Multi%20Signing%20Demo.gcscript)
- frontend + dapp connection code : [HTML5 dapp](examples/Internal%20Multi%20Signing%20Demo.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "title": "Multi Signing Demo",
  "description": "Demo that tries to sign 3 transactions with internal spending and staking private keys with any desired multisig provider. Partially sign them over and over again combining providers to try it out.",
  "type": "script",
  "returnURLPattern": "http://localhost:3000/demo/api/dapp",
  "exportAs": "MultiSig",
  "run": {
    "dependencies": {
      "type": "script",
      "return": {
        "mode": "some",
        "keys": [
          "mainSpendKeyHash",
          "mainStakeKeyHash",
          "currentSpendKeyHash",
          "currentStakeKeyHash",
          "internalMintingPolicy"
        ]
      },
      "run": {
        "mainAddress": {
          "type": "getMainAddress"
        },
        "currentAddress": {
          "type": "getCurrentAddress"
        },
        "mainAddressInfo": {
          "type": "macro",
          "run": "{getAddressInfo(get('cache.dependencies.mainAddress'))}"
        },
        "currentAddressInfo": {
          "type": "macro",
          "run": "{getAddressInfo(get('cache.dependencies.currentAddress'))}"
        },
        "mainRewardAddress": {
          "type": "macro",
          "run": "{get('cache.dependencies.mainAddressInfo.rewardAddress')}"
        },
        "currentRewardAddress": {
          "type": "macro",
          "run": "{get('cache.dependencies.currentAddressInfo.rewardAddress')}"
        },
        "mainSpendKeyHash": {
          "type": "macro",
          "run": "{get('cache.dependencies.mainAddressInfo.paymentKeyHash')}"
        },
        "mainStakeKeyHash": {
          "type": "macro",
          "run": "{get('cache.dependencies.mainAddressInfo.stakingKeyHash')}"
        },
        "currentSpendKeyHash": {
          "type": "macro",
          "run": "{get('cache.dependencies.currentAddressInfo.paymentKeyHash')}"
        },
        "currentStakeKeyHash": {
          "type": "macro",
          "run": "{get('cache.dependencies.currentAddressInfo.stakingKeyHash')}"
        },
        "internalMintingPolicy": {
          "type": "nativeScript",
          "script": {
            "all": [
              {
                "any": [
                  {
                    "pubKeyHashHex": "{get('cache.dependencies.currentSpendKeyHash')}"
                  },
                  {
                    "pubKeyHashHex": "{get('cache.dependencies.currentStakeKeyHash')}"
                  },
                  {
                    "scriptHex": "8200581ca8f97104c6b8cc5d197fe136d813e92d8ce417bfa2df44b43331f5fc"
                  }
                ]
              },
              {
                "atLeast": 1,
                "ofThese": [
                  {
                    "pubKeyHashHex": "{get('cache.dependencies.mainSpendKeyHash')}"
                  },
                  {
                    "pubKeyHashHex": "{get('cache.dependencies.mainStakeKeyHash')}"
                  },
                  {
                    "scriptHex": "8200581ca8f97104c6b8cc5d197fe136d813e92d8ce417bfa2df44b43331f5fc"
                  }
                ]
              }
            ]
          }
        }
      }
    },
    "build": {
      "type": "script",
      "run": {
        "withAllKeys": {
          "type": "buildTx",
          "name": "withAllKeys",
          "tx": {
            "outputs": {
              "toExternalWallet": {
                "address": "addr_test1qrl07u9ssdtdwtzhrt0zrrr79yejxhfvmsmjt9jxqyaz0ktp6ydulqht6r9z4ld0jms3a3c7gw45u32vhc2ftdp2f6rqvz02jw",
                "assets": [
                  {
                    "assetName": "IOwnThisKeys",
                    "policyId": "{get('cache.dependencies.internalMintingPolicy.scriptHashHex')}",
                    "quantity": "2"
                  }
                ]
              }
            },
            "mints": [
              {
                "policyId": "{get('cache.dependencies.internalMintingPolicy.scriptHashHex')}",
                "assets": [
                  {
                    "assetName": "IOwnThisKeys",
                    "quantity": "10"
                  }
                ]
              }
            ],
            "witnesses": {
              "nativeScripts": {
                "internalMintingPolicyScript": "{get('cache.dependencies.internalMintingPolicy.scriptHex')}"
              }
            },
            "optionalSigners": {
              "mainSpendKeyHash": "{get('cache.dependencies.mainSpendKeyHash')}",
              "mainStakeKeyHash": "{get('cache.dependencies.mainStakeKeyHash')}",
              "currentSpendKeyHash": "{get('cache.dependencies.currentSpendKeyHash')}",
              "currentStakeKeyHash": "{get('cache.dependencies.currentStakeKeyHash')}"
            }
          }
        },
        "withSpendingKeys": {
          "type": "buildTx",
          "name": "withSpendingKeys",
          "tx": {
            "requiredSigners": {
              "mainSpendKeyHash": "{get('cache.dependencies.mainSpendKeyHash')}",
              "currentSpendKeyHash": "{get('cache.dependencies.currentSpendKeyHash')}"
            }
          }
        },
        "withStakingKeys": {
          "type": "buildTx",
          "name": "withStakingKeys",
          "tx": {
            "requiredSigners": {
              "mainStakeKeyHash": "{get('cache.dependencies.mainStakeKeyHash')}",
              "currentStakeKeyHash": "{get('cache.dependencies.currentStakeKeyHash')}"
            }
          }
        }
      }
    },
    "sign": {
      "type": "signTxs",
      "namePattern": "InternalMultiSig-{key}",
      "extras": true,
      "txs": "{\n                    getArray(\n                        get('cache.build.withAllKeys.txHex'),\n                        get('cache.build.withSpendingKeys.txHex'),\n                        get('cache.build.withStakingKeys.txHex'),\n                    )\n                }",
      "detailedPermissions": false
    },
    "submit": {
      "type": "submitTxs",
      "mode": "later",
      "namePattern": "MultiSig-{key}",
      "txs": "{get('cache.sign.txList')}"
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![QR URL Transport](https://raw.githubusercontent.com/GameChangerFinance/gamechanger.wallet/main/examples/Internal%20Multi%20Signing%20Demo.png)](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA7VXW3PqNhD-Kxq_JJmhYAPh9pZpO3MyJ2kzJ-mch9NMR1gyVmLLRloDhuG_d-VLEMGnCQnlBUta7e737UXSxgEBEXcmzm0WgSD3YiaFnJHfeJw4LYdx7SuRgkgkiphJAiEFAkpwTSAhGuVJD8dUauobOU2WAkIiJHAlaUR0yiUzKqlkRAN9Nt-pEgsKnDzzvJKnMidoTSjOSGxcQc0oliwE46pN7qgCQaMoLy1CyGOSLLgqtJYfMyok8ZN4KmRpotxbuAkqJwJIkkEbUUGeGsQlNBwrDpmSf327uaNgvMa1ECCddDpR4tMoTDRMeq7rdhgS0KGp6DCapriRr9JEwZWu6UP2jLoMNWyQO4OcSx-pMuNmq2YlTlixksQc5w0nzuSHEyOee6PiK8-_UB3iUjGFFPLdlJ8pxSW8Eqxn92XrmNziB1J0l0TCz53H7YvLRv8VY4pr2-MZh1trYfuivlH01_21bcvWei2DxBKPqa-SmjFng7stuXMcnp_51A952-aybek7u7jYHjp0Eiv7KmtDxvY3vqSKHYI_tPOW-8aBtrLVne3h-aSlQ1YajR0k2qchpTSP0XClzzZjJ-SnzVTdZN9MU0GcgrlGTE11dgpjjciay3dnTlIQC35f95eq0eA69k1sKPgv8-I_zaaV5i989Q7PbC5LXz6gw6Ko1lF6WO4fdV33cuT5dBSMh57b9wfTke9fMm88DLjXG7CR1-PjLhv5vO8NpwHtsqDfn_Z7vZ4XXAa-s300KinccKoRtddykuAh5JofB_l1MRyN93Wa_19gH7f4aznTTESs8XgpW7o5XK-i6GtxqLxIFbseVigmaWwmbDE8IFdGFk_LNINyW_L7qky-75hMvMyqui0VX_8A1-DNVeQOs7HWDNgS1qECd62UGo5z_rQKg0Ws4ycYP63mOV27z5AOcpZF8xAGarzuR8x9inWP9vzhbNm_zHrdReh3A2BpNxio-WLtdp-W6B3Vmhu3TEabzz9KCNd_LuVDKHSFIS3K45r9V6waK6pdRaoMtQlfy5lnFCUAy8fpGvJNO8M9pRMntfQ-cJY_nltkQ8uEUGI8ysuG3QuKiUYHql7xUb9Lnw0ZSXFFpJG5PuKVq75L7Dfh44qu6cA4rup-chYc3e5-0uaPb3mGKVNo99WV-D1FuSdbV6bi88zclE9K92nI2oF8OcLexmiJvgXxJPnw6TgakOYhYjdeHD6sdIVs95K4riuoeiD8ssEL_rZ4POCrCYGByrhBbTrp5m9JGn7myqoUzc-blyuRGkPBcdvq6G1YFbXaOnK7nXsf1rGL7RsqLg6nt8UTFKiIOLvjKhZamxemMwlopLmJQTaNBdhRKCbKOFTPqggfmuogLAfhqAJggTARRZ9vhIYq7P8CHUuAJi4PAAA)

## Resources
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2/api.html)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Youtube Tutorials](https://www.youtube.com/@gamechanger.finance)
- [Discord Support](https://discord.gg/vpbfyRaDKG)
- [Twitter News](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
