
# Cardano Example Dapp

## **GCFS Disk**

Script that will create a GCFS Disk in more than one transaction using API 'buildFsTxs' endpoint. Also the script will generate some of the files to be written on chain, one of them is an encrypted GC script


## Try it online: 

-  Visit [HTML5 Dapp](https://gamechangerfinance.github.io/gamechanger.wallet/examples/GCFS%20Disk.html)
-  Run [Standalone URL dapp connection](https://beta-wallet.gamechanger.finance/api/2/run/1-H4sIAAAAAAAAA7VWXY_TOhD9K1ZeClLVdNsuoL71wl1YtEIrumgf0BVy40lj6tjBdrYNVf87M4mTZlsWHuBWSpPY4_k6Z2ayj7z0CqJ59BY8s8BFxVJjmTM5sLTUo9EoGkYCXGJl4aXRKLmsn5nPuGdbqRRL8JwHxtnb11dL9ka6DZOa5cYCCWlmND5Yrh1PSAUrndRrtri9ZoNVKZW4cnc7N2CgRWGk9iO2UM7gUWCN2cbKGjRYslP7ZtJaIJUKHPOGrYBtrfQeyBxLMi71sDbcCOZMOoaugE5sVXgQ6GvQjvH5qqAUdO8WfGn1p483txw1Wgo6876Yx7EyCVeZcX4-HY_HsYDcxLyQseBFQQdLlN1jvgoMBm1JcPR-qh92hbF-gXuR4J4fD351Rr-hleOhIPDAVQm0nBqDqxe4tOI2mk_o_j2ae1sCPabRXJdKDSNKP8lLnRq6Z0Dv0b9dArbSZ5QFwuFhEh3wN6wdaPD9hQun4bQUWsq8UMDuuVJIpkXpszPu3BOSTq41siUH5_gaWGK0R7iIE9vmKBfC4uYwMOXxKqFNGv4Epx4AaF1DckSdAsyNoHiQPri8gYqCRYsc9yE6dGgVVj4gIQmwOyyGZWZKJT4Y_w_cAN-AeDKF0XXKKlMyB1QhEgMlLm-NVYJ4urJmA5oMhZB7itbgX5fWgvaLsIdiR-d66OAaeXaPMLeiPYXRHjU9GyQ8yWAUVgfPDwQYHnoHOxJx3t4ZfH7Wk_1d0IPnqKUhUwa7EzLnPLGmpXtPv1l9vTPvkXt9S_0qGrWVgepJf638jKh_pr5R1xnoWsW7szDCVs2Zb6W0cMudQ_hqxDdSC_LFCK7O-L9gRRAloMNpQZQOOms-sECXLWa0LW0BKS8VRhvtqu8Xk-mMfAwlFOB6KriAw-A8rrMM_u-RdU3j78XW4lbTDnsgjRQcKL2ojlPmzO3gHI0lD87XNeIc-A88r8stGQmcZ3U-CiUT7kLz1WZRkBvRPOXKAS1co1O7KxxIdNb9bKOhUVhXvAKLYp_3URxTl47LAnEHsfC9ZNOAQ3N0azJxOXt5-eJyMp5xvCeT8fRi-gL_J1O6ZvX7qymfzvDO8SLJlzNxOZsIlJjiNabkxjHkha9iIW3PGL5hKzS2akSIhXFHF3J-1LDjF-79tGc8Quy0rgah3uK4wcUdTTbI_m2jXZ0TYf4L7fMxYdoVRA-xPE4X-sD5ssRNEF_2OBioX_rdaTttGTjyuxvpfGirgENOgbgFm0vnkHAtRciDcpVLf-JDtzZsB1LBLY1C9YRf9QGM8WnPQlyhE6RSo7rqN18ooXiOHyn-kZsnPbdvrA0glObh8AOtdeFebgoAAA)

## Source code:

- dapp connection code: [GCScript DSL](GCFS%20Disk.gcscript)
- frontend (using @gamechanger-finance/gc): [HTML5 dapp](GCFS%20Disk.html)
- frontend (without official library): [Native HTML5 dapp](GCFS%20Disk_nolib.html)

Dapp code was autogenerated by [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)

## GCScript code (dapp connection):
```json
{
  "title": "Get ready for some fun...",
  "description": "Script that will create a GCFS Disk in more than one transaction using API 'buildFsTxs' endpoint. Also the script will generate some of the files to be written on chain, one of them is an encrypted GC script",
  "type": "script",
  "returnURLPattern": "http://localhost:3000/demo/api/dapp",
  "run": {
    "dependencies": {
      "type": "script",
      "exportAs": "data",
      "run": {
        "jsonData": {
          "type": "data",
          "value": {
            "foo": "1",
            "bar": 2,
            "baz": true,
            "baf": null,
            "more": {
              "info": {
                "here": "Encrypted with GC API v2"
              }
            }
          }
        },
        "jsonScript": {
          "type": "data",
          "value": {
            "type": "script",
            "title": "Simple Wallet Auth",
            "description": "Will sign a message containing wallet address, using wallet address to sign",
            "returnURLPattern": "http://localhost:3000/demo/api/dapp",
            "exportAs": "connect",
            "return": {
              "mode": "one",
              "key": "signature"
            },
            "run": {
              "privateDataThatShouldNotBeLeaked": {
                "type": "data",
                "value": "If you see this, the world is broken"
              },
              "address": {
                "type": "getCurrentAddress"
              },
              "signature": {
                "type": "signDataWithAddress",
                "address": "{get('cache.address')}",
                "dataHex": "{strToHex(get('cache.privateDataThatShouldNotBeLeaked'))}"
              }
            }
          }
        },
        "hexData": {
          "type": "macro",
          "run": "{strToHex(objToJson(get('cache.dependencies.jsonData')))}"
        },
        "hexScript": {
          "type": "macro",
          "run": "{strToHex(objToJson(get('cache.dependencies.jsonScript')))}"
        },
        "encryptedHexData": {
          "type": "encrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this data",
            "weak": true,
            "default": "xyz1234"
          },
          "messageHex": "{get('cache.dependencies.hexData')}"
        },
        "encryptedHexScript": {
          "type": "encrypt",
          "requirePassword": {
            "kind": "modal",
            "description": "A password is required to encrypt this script",
            "weak": true,
            "default": "xyz1234"
          },
          "messageHex": "{get('cache.dependencies.hexScript')}"
        }
      }
    },
    "buildTxs": {
      "type": "buildFsTxs",
      "description": "encryption tests",
      "assetName": "gc.disk",
      "replicas": "1",
      "noAppend": false,
      "noIndexFileNames": false,
      "noIndexFileData": false,
      "layers": [
        {
          "//info/updatedAt": {
            "kind": "file",
            "fileHex": "547565204a756c20313620323032342031383a34313a313520474d542d30333030"
          },
          "//empty/dir": {
            "kind": "directory"
          },
          "//data/encryptedData.crypt": {
            "kind": "file",
            "fileHex": "{strToHex(get('cache.dependencies.encryptedHexData'))}"
          },
          "//scripts/encryptedScript.crypt": {
            "kind": "file",
            "fileHex": "{strToHex(get('cache.dependencies.encryptedHexScript'))}"
          }
        }
      ]
    },
    "signTxs": {
      "type": "signTxs",
      "namePattern": "GCFS_Signed_{key}",
      "txs": "{get('cache.buildTxs.txList')}",
      "detailedPermissions": false
    },
    "submitTxs": {
      "type": "submitTxs",
      "mode": "parallel",
      "namePattern": "GCFS_Submitted{key}",
      "txs": "{get('cache.signTxs')}"
    },
    "finally": {
      "type": "script",
      "exportAs": "buildFs",
      "run": {
        "txs": {
          "type": "macro",
          "run": "{get('cache.submitTxs')}"
        }
      }
    }
  }
}
```

## Run standalone QR dapp connection: 

You can use [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground) in `QR URL Transport` mode to capture results

[![This GCScript/URL is too large! make it shorter uploading parts to GCFS. Unable to generate QR code](GCFS%20Disk.png)](https://gamechangerfinance.github.io/gamechanger.wallet/examples/GCFS%20Disk.png)

## Resources
- [How to connect?](https://www.npmjs.com/package/@gamechanger-finance/gc)
- [Docs and examples on Github](https://github.com/GameChangerFinance/gamechanger.wallet/)
- [GCScript documentation](https://beta-wallet.gamechanger.finance/doc/api/v2)
- [Playground IDE in GameChanger Wallet ](https://beta-wallet.gamechanger.finance/playground)
- [Tutorials on Youtube](https://www.youtube.com/@gamechanger.finance)
- [Support on Discord](https://discord.gg/vpbfyRaDKG)
- [News on Twitter](https://twitter.com/GameChangerOk)
- [Website](https://gamechanger.finance)

## License
MIT 
    
